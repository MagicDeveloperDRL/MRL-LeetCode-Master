# 【C++】list
[TOC]

list 是一个双向链表，不支持高效地随机存取元素（即根据下标随机存取元素），只能链表解耦股有方向地遍历元素。要使用 list，需要包含如下头文件和命名空间。

```c++
#include <list>
using namespace std;
```

## 一、常用函数

### 1、初始化方式

| 使用需求                                                     | 使用样例                             |
| ------------------------------------------------------------ | ------------------------------------ |
| 构建一个空的list                                             | list<int> A;                         |
| 构建一个含有n个元素的list                                    | list<int> A(26);                     |
| 构建一个含有n个元素、每个元素都是val的list                   | list<int> A(26, 0);                  |
| 使用某个list的区间[first, last)构造一个新的list，用来裁剪list | list<int> B(A.begin(), A.begin()+5); |
| 构建一个含有指定元素的list                                   | list<int> A = {2, 3, 4};             |

### 2、容器大小

| 成员函数     | 函数功能                   |
| ------------ | -------------------------- |
| int size()   | 返回容器对象中元素的个数。 |
| bool empty() | 判断容器对象是否为空       |

### 3、添加操作

| 成员函数                                                    | 函数功能                                                     |
| ----------------------------------------------------------- | ------------------------------------------------------------ |
| 【void push_front(const T & val)】                          | 将 val 插入链表最前面                                        |
| void push_back( const T & val)                              | 将 val 添加到链表末尾                                        |
| iterator insert(iterator i, const T & val)                  | 将 val 插入迭代器 i 指向的位置，返回 i                       |
| iterator insert( iterator i, iterator first, iterator last) | 将其他容器上的区间 [first, last) 中的元素插入迭代器 i 指向的位置 |

### 4、删除操作

| 成员函数                                     | 函数功能                                                    |
| -------------------------------------------- | ----------------------------------------------------------- |
| void clear()                                 | 删除所有元素                                                |
| 【void pop_front()】                         | 删除链表最前面的元素                                        |
| void pop_back()                              | 删除链表末尾的元素                                          |
| 【void remove (const T & val)】              | 删除和 val 相等的元素                                       |
| iterator erase(iterator i)                   | 删除迭代器 i 指向的元素，返回值是被删元素后面的元素的迭代器 |
| terator erase(iterator first, iterator last) | 删除容器中的区间 [first, last)                              |

### 5、获取操作

| 成员函数    | 函数功能                     |
| ----------- | ---------------------------- |
| T & front() | 返回容器中第一个元素的引用   |
| T & back()  | 返回容器中最后一个元素的引用 |

## 二、常见操作

### 1、遍历操作

#### （1）直接遍历元素

```c++
//方式一
for (int x:A) {  
    cout <<x<< " ";  
}
//方式二
for (auto x:A) {  
    cout <<x<< " ";  
}
```

#### （2）用迭代器遍历

```c++
//方式一：正向迭代器(从前向后遍历)
for (list<int>::iterator i = v.begin(); i != v.end(); i++) {  //用迭代器遍历容器
    cout << *i << " ";  //*i 就是迭代器i指向的元素
}
//方式二：正向迭代器(从前向后遍历)
for (auto i = v.begin(); i != v.end(); i++) {  //用迭代器遍历容器
    cout << *i << " ";  //*i 就是迭代器i指向的元素
}
//方式一：反向迭代器(从后向前遍历)
for (list<int>::reverse_iterator i = v.rbegin(); i != v.rend(); i++) {  
    cout << *i << " ";  //*i 就是迭代器i指向的元素
}
//方式二：反向迭代器(从后向前遍历)
for (auto i = v.rbegin(); i != v.rend(); i++) {  //用迭代器遍历容器
    cout << *i << " ";  //*i 就是迭代器i指向的元素
}
```

### 2、排序操作

```c++
A.sort(); // 将A从小到大排序
```

### 3、反向操作

```c++
A.reverse();  //将A前后颠倒
```



## 三、内存特点

### 1、不支持高效地随机存取

在 list容器中，每个元素中都有一个指针指向后一个元素，也有一个指针指向前一个元素，

list 容器不支持根据下标随机存取元素。

### 2、支持高效地插入和移动

在 list 容器中，在已经定位到要增删元素的位置的情况下，增删元素能在常数时间内完成。
